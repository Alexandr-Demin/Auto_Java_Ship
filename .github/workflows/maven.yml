# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven

# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Regression test

on:
  workflow_dispatch:
    inputs:
      deployment_target:
        description: Choose target
        required: true
        default:
        type: choice
        options:
          - create_addresses
          - click_required


jobs:
  build:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v1
      - name: set up JDK 11
        uses: actions/setup-java@v1
        with:
          java-version: 1.11
      - name: create_addresses
        if: "github.event.inputs.deployment_target == 'create_addresses'"
        run: mvn clean test -Dtest=CreateAdresTest
      - name: click_required
        if: "github.event.inputs.deployment_target == 'click_required'"
        run: mvn clean test -Dtest=ClickRequest


